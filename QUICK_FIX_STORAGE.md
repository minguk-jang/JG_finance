# ğŸ”§ ë¹ ë¥¸ í•´ê²°: í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ ì˜¤ë¥˜

## ì—ëŸ¬ ë©”ì‹œì§€
```
ì´ë¯¸ì§€ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: bucket not found
```

## ì›ì¸
Supabase Storageì— `avatars` ë²„í‚·ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

---

## ğŸ“± í•´ê²° ë°©ë²• (5ë¶„)

### 1ë‹¨ê³„: Supabase Storage ì ‘ì†
1. **ìƒˆ íƒ­ ì—´ê¸°**: https://supabase.com
2. **ë¡œê·¸ì¸** í›„ **JG Finance** í”„ë¡œì íŠ¸ í´ë¦­
3. ì™¼ìª½ ë©”ë‰´ì—ì„œ **Storage** í´ë¦­

### 2ë‹¨ê³„: avatars ë²„í‚· ìƒì„±
1. **New bucket** ë²„íŠ¼ í´ë¦­ (ìš°ì¸¡ ìƒë‹¨)
2. ë‹¤ìŒ ì •ë³´ ì…ë ¥:
   ```
   Name: avatars
   Public bucket: âœ… (ì²´í¬ í•„ìˆ˜!)
   ```
3. **Create bucket** ë²„íŠ¼ í´ë¦­

### 3ë‹¨ê³„: Storage ì •ì±… ì„¤ì •
1. ìƒì„±ëœ `avatars` ë²„í‚· í´ë¦­
2. ìƒë‹¨ **Policies** íƒ­ í´ë¦­
3. **New policy** í´ë¦­
4. **For full customization** ì„ íƒ
5. ì•„ë˜ SQLì„ **í•˜ë‚˜ì”©** ì‹¤í–‰:

#### ì •ì±… 1: ì—…ë¡œë“œ í—ˆìš©
```sql
CREATE POLICY "Authenticated users can upload avatars"
ON storage.objects FOR INSERT
TO authenticated
WITH CHECK (bucket_id = 'avatars');
```

#### ì •ì±… 2: ì¡°íšŒ í—ˆìš©
```sql
CREATE POLICY "Anyone can view avatars"
ON storage.objects FOR SELECT
TO public
USING (bucket_id = 'avatars');
```

#### ì •ì±… 3: ì—…ë°ì´íŠ¸ í—ˆìš©
```sql
CREATE POLICY "Users can update own avatars"
ON storage.objects FOR UPDATE
TO authenticated
USING (bucket_id = 'avatars');
```

#### ì •ì±… 4: ì‚­ì œ í—ˆìš©
```sql
CREATE POLICY "Users can delete own avatars"
ON storage.objects FOR DELETE
TO authenticated
USING (bucket_id = 'avatars');
```

### 4ë‹¨ê³„: í™•ì¸
1. Supabase Dashboard â†’ Storage
2. `avatars` ë²„í‚· ì¡´ì¬ í™•ì¸
3. ë²„í‚· ì˜†ì— **ğŸŒ Public** í‘œì‹œ í™•ì¸
4. Policies íƒ­ì—ì„œ 4ê°œì˜ ì •ì±… ëª¨ë‘ **Enabled** í™•ì¸

### 5ë‹¨ê³„: ì•±ì—ì„œ í…ŒìŠ¤íŠ¸
1. ì•±ìœ¼ë¡œ ëŒì•„ê°€ì„œ **ìƒˆë¡œê³ ì¹¨** (Cmd+R)
2. ì„¤ì • â†’ ê°€ì¡± êµ¬ì„±ì› â†’ ìˆ˜ì •
3. ì´ë¯¸ì§€ ì—…ë¡œë“œ ë‹¤ì‹œ ì‹œë„

---

## âœ… ì„±ê³µ í™•ì¸

**ì´ë¯¸ì§€ ì—…ë¡œë“œê°€ ì„±ê³µí•˜ë©´:**
- ì—…ë¡œë“œ ì¤‘ "ì—…ë¡œë“œ ì¤‘..." í‘œì‹œ
- ì €ì¥ ì™„ë£Œ í›„ í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½ë¨
- ìƒˆë¡œê³ ì¹¨í•´ë„ ì‚¬ì§„ ìœ ì§€ë¨

---

## ğŸ¬ ìŠ¤í¬ë¦°ìƒ· ê°€ì´ë“œ

### Supabase Storage í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Storage                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [New bucket]                        â”‚
â”‚                                     â”‚
â”‚ ğŸ“ avatars ğŸŒ                       â”‚  â† ì´ë ‡ê²Œ ë³´ì—¬ì•¼ í•¨
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### New bucket ëª¨ë‹¬
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Create a new bucket                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name: avatars                       â”‚
â”‚                                     â”‚
â”‚ â˜‘ Public bucket                     â”‚  â† ë°˜ë“œì‹œ ì²´í¬!
â”‚ â˜ Restrict file upload size        â”‚
â”‚                                     â”‚
â”‚ [Cancel]  [Create bucket]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ íŒ

### Public bucketì´ ì¤‘ìš”í•œ ì´ìœ 
- âœ… Public: ëª¨ë“  ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŒ (í”„ë¡œí•„ ì‚¬ì§„ì— í•„ìˆ˜!)
- â›” Private: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ë³¼ ìˆ˜ ìˆì–´ ë‹¤ë¥¸ ì‚¬ëŒì˜ í”„ë¡œí•„ ì‚¬ì§„ì´ ì•ˆ ë³´ì„

### ì •ì±…ì´ ì¤‘ìš”í•œ ì´ìœ 
- ì •ì±… ì—†ìœ¼ë©´: ì—…ë¡œë“œëŠ” ì„±ê³µí•´ë„ ì´ë¯¸ì§€ë¥¼ ë³¼ ìˆ˜ ì—†ìŒ
- 4ê°œ ì •ì±… ëª¨ë‘ í•„ìš”: ì—…ë¡œë“œ, ì¡°íšŒ, ìˆ˜ì •, ì‚­ì œ ê°ê° ë³„ë„ ì •ì±…

---

## ğŸ› ë¬¸ì œ í•´ê²°

### Q: "Policy violation" ì—ëŸ¬ ë°œìƒ
**A:** 3ë‹¨ê³„ì˜ SQL ì •ì±…ì„ ëª¨ë‘ ì‹¤í–‰í–ˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.

### Q: ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œë˜ì§€ë§Œ ë³´ì´ì§€ ì•ŠìŒ
**A:**
1. Storage â†’ avatars ë²„í‚· â†’ Settings
2. "Public bucket" í™œì„±í™” í™•ì¸
3. Policies íƒ­ì—ì„œ "Anyone can view avatars" ì •ì±… í™•ì¸

### Q: ì—¬ì „íˆ "bucket not found" ì—ëŸ¬
**A:**
1. Supabase Dashboard â†’ Storage
2. ë²„í‚· ì´ë¦„ì´ ì •í™•íˆ `avatars`ì¸ì§€ í™•ì¸ (ì² ì ì£¼ì˜!)
3. ì•± ìƒˆë¡œê³ ì¹¨ (Shift + Cmd + R)

---

## ğŸ“ ì¶”ê°€ ë„ì›€

ìœ„ ë‹¨ê³„ë¥¼ ëª¨ë‘ ì™„ë£Œí–ˆëŠ”ë°ë„ ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šìœ¼ë©´:
1. Supabase Dashboard â†’ Storage â†’ avatars í´ë¦­
2. ìŠ¤í¬ë¦°ìƒ· ì°ì–´ì„œ ê³µìœ 
3. ë¸Œë¼ìš°ì € ì½˜ì†”(F12) â†’ Console íƒ­ â†’ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

---

## ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Supabase Storageì— `avatars` ë²„í‚· ìƒì„±
- [ ] Public bucketìœ¼ë¡œ ì„¤ì •
- [ ] 4ê°œì˜ Storage ì •ì±… ëª¨ë‘ ì‹¤í–‰
- [ ] Policies íƒ­ì—ì„œ ì •ì±…ì´ ëª¨ë‘ Enabled ìƒíƒœ
- [ ] ì•± ìƒˆë¡œê³ ì¹¨
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸ ì„±ê³µ
